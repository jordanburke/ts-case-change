# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Commands

### Build and Compile
```bash
# Build the project
pnpm build

# Watch for changes and rebuild
pnpm dev
```

### Testing
```bash
# Run all tests
pnpm test

# Run tests in watch mode
pnpm test:watch

# Run tests with coverage
pnpm test:coverage

# Run a specific test file
pnpm vitest run test/caseConvert.test.ts

# Run a specific test 
pnpm vitest run -t "converts to camelCase"
```

### Linting
```bash
# Run ESLint
pnpm lint
```

## Architecture

ts-case-change is a TypeScript library that converts object keys between different case styles (camelCase, snake_case, PascalCase) while preserving TypeScript type information.

### Core Components

1. **Conversion Functions:**
   - `objectToCamel` - Converts object keys from snake_case to camelCase
   - `objectToSnake` - Converts object keys from camelCase to snake_case
   - `objectToPascal` - Converts object keys to PascalCase
   - `objectToCamelPrefix` - Converts to camelCase while preserving prefixes like `_` or `$`

2. **Type Transformations:**
   - `ToCamel<T>` - Type-level transformation for camelCase
   - `ToSnake<T>` - Type-level transformation for snake_case
   - `ToPascal<T>` - Type-level transformation for PascalCase

3. **Utility Types:**
   - `ObjectToCamel<T>` - Recursive object type transformation to camelCase
   - `ObjectToSnake<T>` - Recursive object type transformation to snake_case
   - `ObjectToPascal<T>` - Recursive object type transformation to PascalCase
   - `ObjectToCamelPrefix<T>` - Recursive object type transformation to camelCase preserving prefixes

### Key Features

- Preserves TypeScript type information for converted objects
- Handles nested objects and arrays
- Special handling for Date objects and Uint8Array/Buffer
- Supports preserving prefixes like `_` (underscore) and `$` (dollar sign)
- Works with both runtime conversion and type-level transformations

## Project Structure

- `src/caseConvert.ts` - Core implementation of all conversion functions and types
- `src/index.ts` - Public API exports
- `test/` - Test files for all functionality
- `dist/` - Build output directory (generated by tsup)

## Build System

This project uses the following technologies:

1. **pnpm** - Package manager (faster and more disk-efficient than npm/yarn)
2. **tsup** - Zero-config TypeScript bundler based on esbuild
3. **Vitest** - Fast testing framework compatible with Jest

## Development Workflow

When making changes:

1. Write/modify code in the `src/` directory
2. Add tests in the `test/` directory
3. Run tests to ensure functionality works: `pnpm test`
4. Run the linter: `pnpm lint`
5. Build the project: `pnpm build`

The build process will:
- Generate CommonJS and ESM outputs
- Create type definitions (.d.ts files)
- Generate source maps
- Place all build artifacts in the `dist/` directory